<!DOCTYPE html>
<html lang="en">
  <head>
  <!-- Google tag (gtag.js) -->
  <script
    async
    src="https://www.googletagmanager.com/gtag/js?id=UA-22054303-1"
  ></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "UA-22054303-1");
  </script>

  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, viewport-fit=cover"
  />
  <title>Praveen Puglia</title>
  <link rel="icon" href="/favicon.ico?v=3a7b593d67fc9446c6e65fd7bb65b1d6" type="image/png">
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png?v=af793840ab76d327059988eee0b29e32">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png?v=02966a86860c609548bed8f9e7de52af">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png?v=cbed115daa5ba82d4bf58c5117e2b533">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png?v=5559c1648649bd07ab067566dda9ec42">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png?v=4f26c8a923dc1bbef9af2949d5f990fc">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png?v=4fa45a5650a605cc004968c0f0da9a31">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png?v=d7aa79cbf5ba31cb2cb152d8857f5fa4">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png?v=17cbced9d3588c1c28c77e643c17c4b9">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png?v=980b496335bd05ccd855a62ec85f7bf6">
  <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png?v=9ed36a9188bf498d32b8e4513b0075e0">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=25c339606b2b086d26ef332c6dced6b0">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png?v=2ae569596707e8f205e98373e6f775a4">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=6d383be39308b8025d869abd56607680">
  <link rel="manifest" href="/manifest.webmanifest?v=1374cda5b6cea46d0a648c713dd097b2">
  <meta name="msapplication-TileColor" content="#ffffff" />
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png" />
  <meta name="theme-color" content="#ffffff" />
  <link
    href="https://unpkg.com/prism-themes@1.6.0/themes/prism-dracula.css"
    rel="stylesheet"
  />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Rethink+Sans:ital,wght@0,400..800;1,400..800&display=swap"
    rel="stylesheet"
  />
  <link href="/css/style.css?v=c576fcaf885f8c0f07a090df5a7cee12" rel="stylesheet">
   









<title>Ready Steady Gulp! - Praveen Puglia</title>



<meta property="og:site_name" content="Praveen Puglia"/>
<meta property="og:title" content="Ready Steady Gulp! - Praveen Puglia"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://praveenpuglia.com/blog/ready-steady-gulp/"/>
<meta property="twitter:url" content="https://praveenpuglia.com/blog/ready-steady-gulp/"/>
<meta property="twitter:site" content="Praveen Puglia"/>


  <meta name="twitter:creator" content="@praveenpuglia"/>


<meta name="description" content="Praveen Puglia"/>
<meta name="twitter:description" content="Praveen Puglia"/>
<meta property="og:description" content="Praveen Puglia"/>


  <meta property="og:image" content="https://praveenpuglia.com/home-banner.webp"/>
  <meta name="twitter:image" content="https://praveenpuglia.com/home-banner.webp"/>




</head>

  <body>
    <div class="container">
      <header class="main-header">
  <a href="/">
    <h3 class="main-header-logo">Hi! I am Praveen</h3>
  </a>
  <nav aria-role="navigation" class="main-navigation">
    <ul class="navigation-links">
      <li class="navigation-link-item">
        <a class="navigation-link" href="/blog">Blog</a>
      </li>
      <li class="navigation-link-item navigation-link-item--social">
        <a target="_blank" class="navigation-link" href="https://linkedin.com/in/praveenpuglia">
          <img src="https://cdn.svgporn.com/logos/linkedin-icon.svg" alt="CodePen Logo">
        </a>
      </li>
      <li class="navigation-link-item navigation-link-item--social">
        <a target="_blank" class="navigation-link" href="https://github.com/praveenpuglia">
          <img src="https://cdn.svgporn.com/logos/github-icon.svg" alt="CodePen Logo">
        </a>
      </li>
      <li class="navigation-link-item navigation-link-item--social">
        <a target="_blank" class="navigation-link" href="https://codepen.io/praveenpuglia">
          <img src="https://cdn.svgporn.com/logos/codepen-icon.svg" alt="CodePen Logo">
        </a>
      </li>
      <li class="navigation-link-item navigation-link-item--social">
        <a target="_blank" class="navigation-link" href="https://twitter.com/praveenpuglia">
          <img src="https://cdn.svgporn.com/logos/twitter.svg" alt="CodePen Logo">
        </a>
      </li>
    </ul>
  </nav>
</header>
      
<article class="single-post">
  <h1 class="title">Ready Steady Gulp!</h1>
  <div class="post__metadata">
    <time datetime="2015-06-28">28 Jun 2015</time>
    <ul class="post__metadata__tags">
      <li></li>
    </ul>
  </div>

  <p>Lately, if something has totally changed the way I work, it's <a href="http://gulpjs.com/">Gulp</a> - <em>the streaming build system</em> . There are lot of cool things you can do with gulp with great flexibility. Let's get started!</p>
<h2>Installation</h2>
<p><a href="https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager">NodeJS and NPM must be installed.</a></p>
<p>Gulp needs to be installed both <strong>globally</strong> ( for command line usage ) and <strong>locally</strong> into our project( for creating project tasks )</p>
<h4>Global Installation</h4>
<pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> gulp</code></pre>
<h4>Local Installation</h4>
<pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> path/to/your/project/root
<span class="token function">npm</span> <span class="token function">install</span> gulp --save-dev</code></pre>
<h2>Hello World!</h2>
<p>Assuming our project directory is <code>my-project</code>, create a <code>gulpfile.js</code> file in it. All gulp tasks reside in this file.
Now, we create our first task that prints <em>Hello</em> .</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// require gulp. this is why we install gulp locally.</span>
<span class="token keyword">var</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// say hello</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"sayHello"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<ul>
<li>First, we require <code>gulp</code> so we can use gulp's API for creating tasks.</li>
<li>Next, we create a task using <code>gulp.task</code> method with the task name being <code>sayHello</code> and an anonymous function that defines what <code>sayHello</code> does. In this case, we just print Hello.</li>
</ul>
<h2>Executing a Task</h2>
<p>Most of the work with gulp happens on the command line. To run a task, we navigate to our project directory( or the directory containing <code>gulpfile.js</code> ) and ask gulp to run a specific task.</p>
<pre class="language-text"><code class="language-text">my-project
    /gulpfile.js  <- YOU GOTTA BE WHERE THIS FILE IS</code></pre>
<pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> my-project
gulp sayHello</code></pre>
<p>Did you see what happened? It might look something like this...</p>
<pre class="language-bash"><code class="language-bash">$ gulp sayHello
<span class="token punctuation">[</span><span class="token number">15</span>:30:28<span class="token punctuation">]</span> Using gulpfile ~/code/my-project/gulpfile.js
<span class="token punctuation">[</span><span class="token number">15</span>:30:28<span class="token punctuation">]</span> Starting <span class="token string">'sayHello'</span><span class="token punctuation">..</span>.
Hello
<span class="token punctuation">[</span><span class="token number">15</span>:30:28<span class="token punctuation">]</span> Finished <span class="token string">'sayHello'</span> after <span class="token number">83</span> μs</code></pre>
<p>Following along? Great!</p>
<h2>Dependent Tasks</h2>
<p>It's easy to make one task wait for another to finish. This is done by passing an array of tasks as the second parameter to <code>gulp.task</code> method.</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// say world after saying hello is done</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"sayWorld"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"sayHello"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Move over to terminal and execute <code>gulp world</code>.</p>
<h2>The Default Task</h2>
<p>If we move over to terminal and execute <code>gulp</code>, without specifying a task name, it looks for a task named <code>default</code>. Go ahead! give it a try.</p>
<pre class="language-js"><code class="language-js">gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"default"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"La la la!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2>Exploring Gulp's API</h2>
<p>Gulp has 3 other methods <code>.src</code>,<code>.dest</code> &amp; <code>.watch</code> apart from <code>.task</code>. We'll look into those by trying to minify CSS, a real world use case for gulp.</p>
<p>Before we go ahead, we need to know a little more about how gulp works. Gulp generates a stream from the files we pass in via <code>gulp.src</code>  method. We then <code>pipe</code> the stream through various processors like minify, uglify, sass, sourcemaps etc. Remember, all the processing done, is still on the generated stream and not written to disk. To do that, we use <code>gulp.dest</code> .</p>
<h3>Minify CSS</h3>
<p>Create a style.css in css directory and put the following content.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">*</span> <span class="token punctuation">{</span>
  <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">body,
html</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>We will install <a href="https://www.npmjs.com/package/gulp-minify-css">gulp-minify-css</a> plugin to do the minification.</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> gulp-minify-css --save-dev</code></pre>
<p>In gulpfile.js, we require this module just like we did it for gulp.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> minify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-minify-css"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class="language-js"><code class="language-js"><span class="token comment">// minify css</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"css:minify"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">"css/style.css"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">minify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">"min"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>So what did we do?</p>
<ul>
<li>We create a new task named <code>css:minify</code>  (namespacing is good).</li>
<li>We tell gulp which sources to use to build the stream to process using <code>gulp.src</code> and passing in the file path.</li>
<li>We then <code>pipe</code> the generated stream through the <code>minify</code> process.</li>
<li>Finally, we pipe the processed stream through <code>gulp.dest</code> which then writes the new, minified <code>style.css</code> inside <code>min</code> directory.</li>
</ul>
<p>The last thing I want to mention is how to watch files for changes. In our example, we'll setup a <code>watch</code> task and look for changes in <code>.css</code> files. Whenever that happens, we would want the <code>css:minify</code> task to run automatically. Here's how.</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// watch for changes in source</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"watch"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">"css/style.css"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"css:minify"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>On terminal execute <code>gulp watch</code>. It may look like the the prompt has hanged but it's actually watching for file changes. Let's go ahead and add some new rules in <strong>style.css</strong>, save it and see what happens!</p>
<p>In the next post, I'll write about file include patterns, various recipes for doing things like sass compilation, generating sourcemaps, cleaning directories before running tasks and more. Stay tuned!</p>

</article>

    </div>
  </body>
</html>